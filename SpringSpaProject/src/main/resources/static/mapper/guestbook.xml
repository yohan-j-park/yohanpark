<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.jobtc.springboot.guestbook.GuestbookMapper">

	<select id='totSize' parameterType="kr.jobtc.springboot.guestbook.GPageVo" resultType="Integer"> <!-- int를 써도 되지만 보통 기본형은 잘 쓰지 않는다 -->
		select count(id) from guestbook
		where id  like '%${findStr}%'
		or	  doc like '%${findStr}%'
		or 	  nal like '%${findStr}%'
	</select>
		
	<select id='list' parameterType="kr.jobtc.springboot.guestbook.GPageVo" resultType="kr.jobtc.springboot.guestbook.GuestbookVo">
		select * from guestbook
		where id  like '%${findStr}%'
		or	  doc like '%${findStr}%'
		or 	  nal like '%${findStr}%'
		order by nal desc, id asc
		limit #{startNo}, #{listSize}
	</select>

</mapper>